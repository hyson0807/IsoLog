홈(메인) 화면과의 연동, 그리고 미래 예측(Future Prediction) 기능이 들어간 캘린더 탭의 UI/UX 계획을 상세하게 짜드리겠습니다.

이 탭의 핵심은 **"한눈에 보는 나의 복용 패턴"**과 **"쉬운 수정"**입니다.

---

### 📅 캘린더 탭 UI 구조 (Top-down)

#### 1. 상단 헤더 (Month Navigation)
* **구성:** `< 2025년 12월 >` 형태의 년/월 이동 버튼.
* **UX:**
    * 좌우 화살표를 눌러 달을 이동합니다.
    * 현재 달이 아닌 경우, '오늘'로 바로 돌아오는 작은 버튼("Today")을 한쪽에 배치하여 편의성을 높입니다.

#### 2. 요일 행 (Weekdays)
* **구성:** 일, 월, 화, 수, 목, 금, 토
* **글로벌 팁:** 국가마다 한 주의 시작 요일이 다릅니다 (미국은 일요일 시작, 유럽/한국은 월요일 시작 선호). 이는 시스템 설정(Locale)을 따라가도록 라이브러리를 사용하거나, 일요일 시작으로 통일하되 색상으로 구분(일요일 빨강)하는 것이 좋습니다.

#### 3. 날짜 그리드 (Date Cells) - **핵심 디자인**
캘린더의 각 날짜 칸은 4가지 상태를 가져야 합니다. 사용자의 요구사항(미래 예측, 복용 체크)을 반영한 디자인 시스템입니다.

| 상태 (State) | 시점 | 의미 | 디자인 (UI) |
| :--- | :--- | :--- | :--- |
| **1. 복용 완료** (Taken) | 과거/오늘 | 약을 먹음 | **진한 브랜드 컬러의 꽉 찬 원형 배경** + 흰색 날짜 텍스트 (또는 체크 아이콘) |
| **2. 미복용** (Missed/Skip) | 과거 | 약을 안 먹음 | **배경 없음** (또는 아주 작은 회색 점). *사용자에게 죄책감을 주지 않기 위해 X 표시보다는 빈칸이 낫습니다.* |
| **3. 복용 예정일** (Scheduled) | 미래 | 먹어야 할 날 | **연한 파스텔톤 배경색** (사용자 요청 반영). 테두리만 있는 원이나, 꽉 찼지만 아주 옅은 색상의 원. |
| **4. 휴약 예정일** (Rest) | 미래 | 쉬는 날 | **배경 없음**. 깔끔하게 비워둡니다. |

* **UX 로직 (미래 예측):**
    * 메인 탭에서 설정한 주기(예: 격일)를 기반으로 계산하여 미래 날짜에 '3번(복용 예정일)' 스타일을 자동으로 입혀줍니다.
    * 예: 오늘(11일) 먹음 + 격일 설정 = 13일, 15일, 17일에 '연한 배경색' 표시.

#### 4. 하단 요약 (Monthly Summary) - 선택 사항
* 캘린더 그리드 아래에 작은 텍스트로 이번 달 성과를 보여줍니다.
* 예: "이번 달은 **15번** 복용했어요. 💊"

---

### 👆 인터랙션 & 수정 기능 (Interaction Flow)

사용자가 **"아 맞다, 어제 먹었는데 체크 안 했네?"** 하고 캘린더에서 수정하고 싶을 때의 흐름입니다.

#### 시나리오: 과거 날짜 수정하기
1.  **탭 (Tap):** 사용자가 캘린더에서 수정하고 싶은 날짜(예: 어제)를 누릅니다.
2.  **액션 시트 (Bottom Sheet) 호출:** 화면 하단에서 반 정도 올라오는 메뉴가 뜹니다.
    * 날짜: "12월 10일 (수)"
    * 상태 변경 버튼:
        * [💊 먹었어요] (활성화 시 색상 들어옴)
        * [안 먹었어요] (기본 상태)
3.  **반영:** 버튼을 누르는 즉시 캘린더의 해당 날짜 UI가 '복용 완료' 스타일로 바뀝니다.
4.  **닫기:** 빈 화면을 터치하거나 핸들을 내려서 닫습니다.

* **Tip:** 단순히 날짜를 누르자마자 상태가 토글(Toggle)되는 방식도 있지만, 이는 스크롤 하다가 실수로 누를 확률이 높습니다. 따라서 **[날짜 터치 -> 바텀 시트에서 확인]** 방식이 오작동을 줄이는 안전한 UX입니다.

---

### 🧩 데이터 동기화 로직 (개발 시 참고)

1.  **메인 -> 캘린더:**
    * 메인에서 버튼을 누르면 DB(로컬 저장소)에 `{ date: "2025-12-11", status: "taken" }`이 저장됩니다.
    * 캘린더 탭으로 이동하면 이 데이터를 읽어와서 해당 날짜에 색을 칠합니다.

2.  **캘린더 -> 메인:**
    * 캘린더에서 '오늘' 날짜를 수정해서 '안 먹음'으로 바꾸면, 메인 화면으로 돌아갔을 때 메인 버튼도 '복용 전' 상태로 바뀌어 있어야 합니다. (양방향 동기화)

---

### 🎨 디자인 추천 (Color Palette)

이소티논은 피부과 약이므로 **깨끗하고 신뢰감 있는 컬러**를 추천합니다.

* **메인 컬러 (복용 완료):** 딥 블루(Deep Blue) 또는 청록색(Teal) - *신뢰, 치료*
* **서브 컬러 (복용 예정):** 메인 컬러의 투명도 20% 버전 (아주 연한 하늘색/민트색)
* **배경:** 흰색 (Clean)

---


